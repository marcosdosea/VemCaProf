@model VemCaProfWeb.Models.PessoaModel

@{
    ViewData["Title"] = "Detalhes";
    Layout = "~/Views/Shared/_Layout.cshtml";

    string titulo = Model.TipoPessoa == "P" ? "Professor" : 
                   (Model.TipoPessoa == "A" ? "Aluno" : "Responsável");
}

<h1>Detalhes</h1>

<div>
    <h4>@titulo</h4>
    <hr />
    
    <div class="card">
        <div class="card-body">
            <dl class="row">
                <dt class="col-sm-3">Nome Completo</dt>
                <dd class="col-sm-9">@Model.Nome @Model.Sobrenome</dd>

                <dt class="col-sm-3">CPF</dt>
                <dd class="col-sm-9">@Model.Cpf</dd>

                <dt class="col-sm-3">Email</dt>
                <dd class="col-sm-9">@Model.Email</dd>

                <dt class="col-sm-3">Telefone</dt>
                <dd class="col-sm-9">@Model.Telefone</dd>

                <dt class="col-sm-3">Endereço</dt>
                <dd class="col-sm-9">
                    @if(!string.IsNullOrEmpty(Model.Cidade))
                    {
                        <span>@Model.Rua, @Model.Numero - @Model.Bairro (@Model.Cidade/@Model.Estado)</span>
                    }
                    else
                    {
                        <span class="text-muted">Endereço não informado</span>
                    }
                </dd>

                @if (Model.TipoPessoa == "P")
                {
                    <dt class="col-sm-12 mt-3 mb-2 border-bottom">Informações Profissionais</dt>

                    <dt class="col-sm-3">Descrição</dt>
                    <dd class="col-sm-9">@Model.DescricaoProfessor</dd>

                    <dt class="col-sm-3">Atende LIBRAS?</dt>
                    <dd class="col-sm-9 fw-bold">@(Model.Libras == true ? "Sim" : "Não")</dd>
                    
                    @if(Model.DisciplinasSelecionadas != null && Model.DisciplinasSelecionadas.Any())
                    {
                         <dt class="col-sm-3">Disciplinas</dt>
                         <dd class="col-sm-9">@Model.DisciplinasSelecionadas.Count disciplinas vinculadas</dd>
                    }
                }
                else if (Model.TipoPessoa == "A")
                {
                    <dt class="col-sm-12 mt-3 mb-2 border-bottom">Informações do Aluno</dt>

                    <dt class="col-sm-3">Menor de Idade?</dt>
                    <dd class="col-sm-9">@(Model.AlunoDeMenor == true ? "Sim" : "Não")</dd>
                    
                    <dt class="col-sm-3">Aluno Atípico/PcD?</dt>
                    <dd class="col-sm-9">@(Model.Atipico == true ? "Sim" : "Não")</dd>

                    <dt class="col-sm-3">Responsável ID</dt>
                    <dd class="col-sm-9">@(Model.ResponsavelId != null ? Model.ResponsavelId.ToString() : "-")</dd>
                }
                else if (Model.TipoPessoa == "R")
                {
                    <dt class="col-sm-12 mt-3 mb-2 border-bottom">Informações do Responsável</dt>

                    <dt class="col-sm-3">Dependentes</dt>
                    <dd class="col-sm-9">@Model.QuantidadeDeDependentes</dd>
                }
            </dl>
        </div>
    </div>
</div>

<div class="mt-3">
    <a asp-action="Edit" asp-route-id="@Model?.Id" class="btn btn-warning btn-lg">Editar</a> |
    <a asp-action="Index" class="btn btn-secondary btn-lg">Voltar para Lista</a>
</div>